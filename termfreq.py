#!/usr/bin/python
#'played': 0.09787683264931824, 'tax': 0.10292696206373453, 'month': 0.09278312083326412, 'player': 0.09776628424919487, 'star': 0.09585110529825447, 'spending': 0.06749313925474287, 'people': 0.13489145004066305, 'start': 0.052431714875085245, 'health': 0.08888085509613042, 'sale': 0.0657221085124029, 'economy': 0.07469029437652419, 'week': 0.05964339687750542, 'march': 0.11140304246171917, 'business': 0.054099354672213495, 'season': 0.1703171103245804, 'time': 0.08017802003170083, 'game': 0.23065639463764276, 'gain': 0.06405577988612365, 'report': 0.07172942294844464, 'night': 0.07410741889529282, 'february': 0.13002057623298469, 'retail': 0.05579209712735711, 'study': 0.09387717332637524, 'wednesday': 0.08930231354117879, 'team': 0.11289041415108558, 'quarter': 0.05582126561857348

#ig=0.1 ['february', 'march', 'people', 'season', 'tax', 'game', 'team']

import os
from collections import Counter
from collections import Counter
import re
import sys
 
def openfile(filename):
    fh = open(filename, "r+")
    str = fh.read()
    fh.close()
    return str
 
def removegarbage(str):
    # Replace one or more non-word (non-alphanumeric) chars with a space
    str = re.sub(r'\W+', ' ', str)
    str = str.lower()
    return str
 
def getwordbins(words):
    cnt = Counter()
    for word in words:
        cnt[word.lower()] += 1
    return cnt
 
termlist01 = ['february', 'march', 'people', 'season', 'tax', 'game', 'team']
termlist006=['team', 'february', 'march', 'played', 'spending', 'season', 'study', 'people', 'tax', 'wednesday', 'sale', 'player', 'game', 'health', 'time', 'gain', 'night', 'report', 'star', 'month', 'economy']
termlist009=['february', 'march', 'people', 'season', 'study', 'played', 'tax', 'month', 'player', 'game', 'team', 'star']
termlist003=['coach', 'played', 'researcher', 'bowl', 'tuesday', 'tax', 'sign', 'return', 'player', 'guard', 'economic', 'drug', 'star', 'economist', 'market', 'debt', 'recovery', 'lead', 'federal', 'rose', 'top', 'people', 'percent', 'increase', 'start', 'reuters', 'health', 'treatment', 'fourth', 'time', 'expected', 'price', 'economy', 'week', 'march', 'business', 'league', 'month', 'season', 'journal', 'team', 'effect', 'free', 'wednesday', 'department', 'game', 'gain', 'defensive', 'tackle', 'patient', 'strong', 'day', 'billion', 'night', 'february', 'quarter', 'consumer', 'study', 'nfl', 'sale', 'signed', 'spending', 'chief', 'growth', 'receiver', 'report', 'found', 'guy', 'retail', 'starting', 'university', 'bond']
termlist001 =['refund', 'monetary', 'coach', 'september', 'photo', 'move', 'outlook', 'month', 'press', 'manager', 'immediately', 'paul', 'economist', 'atlanta', 'receiver', 'impact', 'increase', 'slow', 'fit', 'rose', 'percent', 'josh', 'thursday', 'seasonally', 'late', 'bernard', 'reuters', 'treatment', 'easy', 'money', 'health', 'tax', 'momentum', 'raven', 'cornerback', 'risk', 'wide', 'read', 'account', 'break', 'game', 'fan', 'february', 'half', 'report', 'taking', 'bit', 'major', 'investor', 'day', 'bank', 'loss', 'term', 'excluding', 'miami', 'james', 'university', 'nfl', 'wednesday', 'calling', 'officer', 'night', 'found', 'security', 'quarter', 'round', 'bond', 'scored', 'signing', 'set', 'espn', 'people', 'twitter', 'revised', 'january', 'sign', 'bradley', 'cost', 'video', 'picked', 'close', 'nba', 'sport', 'employment', 'investment', 'index', 'abc', 'business', 'lead', 'federal', 'jumped', 'current', 'won', 'safety', 'capital', 'medicine', 'linebacker', 'told', 'friday', 'patient', 'extend', 'payroll', 'journal', 'team', 'bryant', 'confidence', 'free', 'victory', 'government', 'job', 'cut', 'york', 'defensive', 'news', 'estimate', 'debt', 'super', 'guy', 'suggested', 'advance', 'central', 'ahead', 'study', 'contract', 'pollard', 'fell', 'economic', 'published', 'retail', 'traded', 'baltimore', 'raised', 'industrial', 'love', 'researcher', 'win', 'tuesday', 'chris', 'guard', 'rising', 'touchdown', 'winning', 'straight', 'market', 'conference', 'fed', 'manufacturing', 'howard', 'spending', 'automobile', 'top', 'remained', 'philadelphia', 'start', 'music', 'asset', 'lot', 'expected', 'injury', 'energy', 'williams', 'billion', 'head', 'growth', 'champion', 'form', 'league', 'season', 'company', 'equity', 'benchmark', 'effect', 'gain', 'yard', 'line', 'analyst', 'buying', 'postgame', 'commerce', 'patriot', 'pushed', 'car', 'past', 'bill', 'gasoline', 'signed', 'future', 'ap', 'fun', 'meet', 'adjusted', 'average', 'history', 'stock', 'heart', 'san', 'played', 'averaging', 'pro', 'condition', 'agent', 'helped', 'player', 'drug', 'offense', 'robinson', 'kevin', 'increased', 'strength', 'pat', 'recovery', 'doctor', 'song', 'bowl', 'feature', 'reality', 'march', 'tight', 'worry', 'fourth', 'income', 'department', 'strong', 'economy', 'week', 'play', 'added', 'star', 'fiscal', 'bruce', 'price', 'earlier', 'welker', 'return', 'tonight', 'regular', 'power', 'blood', 'tackle', 'jones', 'purchase', 'lower', 'starting', 'medical', 'stronger', 'sale', 'playing', 'chief', 'time', 'management', 'model', 'consumer', 'dow', 'reserve'] #0.01
termlist = ['limited', 'gu', 'coach', 'jason', 'forget', 'issued', 'lack', 'focus', 'month', 'manager', 'captain', 'zone', 'tv', 'tweet', 'thursday', 'health', 'td', 'enjoying', 'started', 'division', 'stanton', 'risk', 'song', 'rise', 'fan', 'winning', 'bringing', 'minute', 'cable', 'stimulus', 'wednesday', 'ryan', 'team', 'guy', 'round', 'force', 'miller', 'sign', 'past', 'cary', 'video', 'picked', 'pass', 'nba', 'investment', 'index', 'abc', 'power', 'clock', 'current', 'capital', 'unrestricted', 'told', 'leg', 'avery', 'payroll', 'pushing', 'monetary', 'bachelor', 'baseball', 'buy', 'strong', 'arena', 'talent', 'ahead', 'fielding', 'study', 'economics', 'lakers', 'credit', 'survey', 'professor', 'pick', 'york', 'love', 'ago', 'campaign', 'extra', 'win', 'private', 'neil', 'aimed', 'touchdown', 'apply', 'greg', 'singing', 'market', 'fed', 'usa', 'interception', 'music', 'asset', 'vehicle', 'indiana', 'injury', 'commitment', 'household', 'flat', 'composite', 'tax', 'company', 'factor', 'benchmark', 'aware', 'midst', 'starter', 'postgame', 'disappointing', 'account', 'anquan', 'hour', 'currency', 'car', 'cap', 'gasoline', 'recession', 'era', 'meet', 'closing', 'history', 'streak', 'heart', 'figure', 'brown', 'chip', 'share', 'agent', 'pushed', 'dropped', 'slip', 'sense', 'offense', 'david', 'robinson', 'string', 'united', 'court', 'recovery', 'january', 'feature', 'sunday', 'labor', 'fourth', 'answer', 'struggled', 'economy', 'mar', 'earlier', 'spot', 'blood', 'cardiac', 'president', 'hawk', 'data', 'purchase', 'attempt', 'backup', 'author', 'anytime', 'chief', 'maintain', 'green', 'road', 'playing', 'refund', 'houston', 'september', 'sidelined', 'move', 'outlook', 'hiring', 'mentioned', 'japan', 'scoring', 'fit', 'continued', 'jim', 'seasonally', 'late', 'absence', 'reuters', 'condition', 'policy', 'happened', 'cornerback', 'dan', 'cover', 'nation', 'break', 'band', 'half', 'foot', 'jaguar', 'rotation', 'republican', 'investor', 'hall', 'bank', 'term', 'james', 'university', 'nfl', 'playoff', 'fisker', 'victory', 'found', 'quarter', 'bond', 'signing', 'financial', 'series', 'energy', 'revised', 's&p', 'bradley', 'trading', 'measure', 'happen', 'morning', 'saturday', 'er', 'gonzalez', 'matt', 'missed', 'jump', 'research', 'increase', 'daniel', 'safety', 'medicine', 'announced', 'assist', 'friday', 'bryant', 'free', 'effect', 'levitre', 'base', 'struggle', 'estimate', 'card', 'partner', 'advance', 'yard', 'jet', 'dji', 'heading', 'pollard', 'expecting', 'retail', 'top', 'major', 'industrial', 'slipped', 'revenue', 'researcher', 'philadelphia', 'reggie', 'owner', 'kobe', 'electronic', 'city', 'management', 'service', 'automobile', 'caught', 'system', 'stock', 'tom', 'john', 'final', 'friend', 'selling', 'season', 'released', 'reflecting', 'boldin', 'wide', 'hundred', 'ben', 'target', 'rival', 'recording', 'matter', 'cost', 'williams', 'eric', 'published', 'san', 'remained', 'pro', 'tonight', 'substantial', 'kevin', 'strength', 'built', 'dallas', 'check', 'agency', 'click', 'luxury', 'quarterback', 'aired', 'added', 'multiple', 'electric', 'opposite', 'bruce', 'price', 'regular', 'plan', 'sedan', 'future', 'salary', 'singer', 'laurent', 'grove', 'medical', 'steady', 'sale', 'traditional', 'reed', 'consumer', 'dow', 'reserve', 'selection', 'shot', 'heavily', 'jpmorgan', 'kruger', 'bring', 'nasdaq', 'stepping', 'defender', 'economist', 'debate', 'impact', 'giant', 'slow', 'based', 'title', 'hope', 'bernard', 'bush', 'won', 'treasury', 'gradkowski', 'hip', 'executive', 'express', 'watch', 'patriot', 'fastest', 'closely', 'report', 'dr', 'earn', 'bar', 'optimistic', 'calling', 'hike', 'vision', 'set', 'espn', 'manning', 'lion', 'decided', 'close', 'sport', 'receipt', 'mortgage', 'federal', 'jumped', 'forecast', 'score', 'consecutive', 'linebacker', 'steelers', 'august', 'extend', 'weak', 'flow', 'ellerbe', 'job', 'key', 'news', 'debt', 'garden', 'suggested', 'league', 'defense', 'hesitant', 'career', 'taking', 'dannell', 'contract', 'etf', 'receiver', 'traded', 'baltimore', 'comment', 'adjusted', 'tone', 'jeff', 'smith', 'tuesday', 'improvement', 'conference', 'decline', 'teammate', 'howard', 'stretch', 'create', 'due', 'cent', 'hitting', 'expected', 'entered', 'idol', 'disclosed', 'mike', 'champion', 'pat', 'fund', 'atlanta', 'commerce', 'straight', 'bill', 'budget', 'momentum', 'fun', 'situation', 'voice', 'margin', 'played', 'averaging', 'helped', 'player', 'drug', 'return', 'worry', 'pas', 'italy', 'doctor', 'bowl', 'trip', 'inventory', 'day', 'week', 'ball', 'edged', 'fiscal', 'boosted', 'quentin', 'welker', 'earned', 'hand', 'driven', 'running', 'moving', 'francisco', 'recent', 'lower', 'center', 'model', 'send', 'left', 'unemployment', 'photo', 'polled', 'wealthy', 'ninth', 'immediately', 'joining', 'tough', 'paul', 'rushing', 'web', 'cut', 'tight', 'rose', 'josh', 'silver', 'wes', 'nicki', 'treatment', 'easy', 'match', 'chairman', 'march', 'increased', 'government', 'read', 'hard', 'rebound', 'february', 'game', 'seahawks', 'press', 'world', 'bit', 'jacksonville', 'rumor', 'prominent', 'loss', 'equity', 'excluding', 'lost', 'miami', 'manny', 'facing', 'benefit', 'officer', 'night', 'security', 'matchup', 'poor', 'deal', 'people', 'twitter', 'titan', 'play', 'elderly', 'understood', 'economic', 'home', 'employment', 'separately', 'poll', 'lead', 'lawson', 'jonathan', 'wbc', 'patient', 'business', 'journal', 'processing', 'continuing', 'agreement', 'step', 'defensive', 'manufacturing', 'super', 'intense', 'stage', 'central', 'justin', 'union', 'range', 'warner', 'slightly', 'confidence', 'raised', 'washington', 'lifted', 'tackle', 'guard', 'rising', 'england', 'lebron', 'warned', 'spending', 'hey', 'gig', 'start', 'low', 'lot', 'ed', 'call', 'jones', 'head', 'medium', 'form', 'delayed', 'heat', 'hear', 'gain', 'filed', 'line', 'editing', 'analyst', 'buying', 'posted', 'rush', 'october', 'dominican', 'andy', 'inside', 'official', 'signed', 'record', 'growth', 'highlight', 'threw', 'average', 'money', 'classic', 'stronger', 'tournament', 'moved', 'ap', 'rally', 'dealer', 'film', 'looked', 'floor', 'agreeing', 'stake', 'percent', 'reality', 'tim', 'republic', 'income', 'department', 'forcing', 'scored', 'championship', 'star', 'football', 'ultimately', 'fell', 'coverage', 'chris', 'cliff', 'billion', 'compete', 'raven', 'time', 'push', 'lineup', 'starting']
def calcFreq(filename,ff):
    txt = openfile(filename)
    txt = removegarbage(txt)
    words = txt.split(' ')
    bins = getwordbins(words)
    sys.stdout.write(ff[0:4]+" " )
    for t in termlist:
        if t.lower() in bins:
            sys.stdout.write("{0} ".format(bins[t]))
        else:
            sys.stdout.write("{0} ".format(0))
    print ""



dirs = ["business",  "entertainment"  ,"health",  "sport"]

print termlist
for d in dirs:
    files = os.listdir("./trainset/{0}/".format(d))
    for f in files:
        calcFreq("./trainset/{0}/".format(d)+f,f)

